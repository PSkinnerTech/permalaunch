import { assertEnoughBalance, confirmationPrompt, formatARIOWithCommas, requiredTargetAndQuantityFromOptions, writeARIOFromOptions, writeActionTagsFromOptions, } from '../utils.js';
export async function transfer(options) {
    const { target, arioQuantity } = requiredTargetAndQuantityFromOptions(options);
    const { ario, signerAddress } = writeARIOFromOptions(options);
    if (!options.skipConfirmation) {
        await assertEnoughBalance(ario, signerAddress, arioQuantity);
        const confirm = await confirmationPrompt(`Are you sure you want to transfer ${formatARIOWithCommas(arioQuantity)} ARIO to ${target}?`);
        if (!confirm) {
            return { message: 'Transfer aborted by user' };
        }
    }
    const result = await ario.transfer({
        target,
        qty: arioQuantity.toMARIO().valueOf(),
    }, writeActionTagsFromOptions(options));
    const output = {
        senderAddress: signerAddress,
        transferResult: result,
        message: `Successfully transferred ${formatARIOWithCommas(arioQuantity)} ARIO to ${target}`,
    };
    return output;
}
