import { ARWEAVE_TX_REGEX } from '../constants.js';
export const validateArweaveId = (id) => {
    return ARWEAVE_TX_REGEX.test(id);
};
export function isBlockHeight(height) {
    return height !== undefined && !isNaN(parseInt(height.toString()));
}
export const pruneTags = (tags) => {
    return tags.filter((tag) => tag.value !== undefined);
};
export const getCurrentBlockUnixTimestampMs = async (arweave) => {
    return await arweave.blocks
        .getCurrent()
        .then((block) => {
        return block.timestamp * 1000;
    })
        .catch(() => {
        return Date.now(); // fallback to current time
    });
};
export const paginationParamsToTags = (params) => {
    const tags = [
        { name: 'Cursor', value: params?.cursor?.toString() },
        { name: 'Limit', value: params?.limit?.toString() },
        { name: 'Sort-By', value: params?.sortBy?.toString() },
        { name: 'Sort-Order', value: params?.sortOrder?.toString() },
    ];
    return pruneTags(tags);
};
